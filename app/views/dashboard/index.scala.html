@(user: User, simulations: List[Simulation], trades: List[Trade])

@base(user, simulations, "Trading Dashboard", "Overview") {
	@defining(if(user.activeSimulation != null) {Simulation.find.byId(user.activeSimulation)} else {new Simulation()}) { currentSim =>
	    
	    <div class="row">
	    	<div class="col-md-12">
	    		<div class="panel panel-default">
				  <div class="panel-heading">
				  	<div class="row" id="sim-info">
				  	  <div class="col-sm-4">
				  	  	<strong>@currentSim.name</strong>
				  	  </div>
				  	  <div class="col-sm-4">
				  	  	<p>Starting Funds:&nbsp;&nbsp;<span class="money">@currentSim.starting</span></p>
				  	  </div>
				  	  <div class="col-sm-4">
				  	  	<p>Transaction Fee:&nbsp;&nbsp;@currentSim.tradingFee%</p>
				  	  </div>
				  	</div>
				  </div>
				 </div>
	    	</div>
	    </div>
	    
	    <div class="row">
	    	<div class="col-lg-4">
	    		<div class="panel panel-default">
				  <div class="panel-heading">
				    <h3 class="panel-title"><i class="fa fa-bank"></i> Cash on Hand</h3>
				  </div>
				  <div class="panel-body centered">
				    <h1 id="bank" class="money">@currentSim.dollars</h1>
				  </div>
				</div>
	    	</div>
	    	
	    	<div class="col-lg-4">
	    		<div class="panel panel-default">
				  <div class="panel-heading">
				    <h3 class="panel-title"><i class="fa fa-briefcase"></i> Bitcoins</h3>
				  </div>
				  <div class="panel-body centered">
				    <h1 id="coins"><i class="fa fa-btc"></i> @currentSim.coins</h1>
				  </div>
				</div>
	    	</div>
	    	
	    	<div class="col-lg-4">
    			<div class="panel panel-default">
				  <div class="panel-heading">
				    <h3 class="panel-title"><i class="fa fa-money"></i> Net Worth</h3>
				  </div>
				  <div class="panel-body centered money-container-green">
				    <h1 class="networth"></h1>
				  </div>
				</div>
    		</div>
	    </div>
    
    	<div class="row">
    		<div class="col-lg-12">
    			<h4>Recent Trades</h4>
    			<table id="simulations" class="table table-striped table-responsive @if(!trades.isEmpty()) {table-hover}">
			    	<thead>
				    	<tr>
				    		<th>Type</th>
				    		<th>Amount</th>
				    		<th>Fee</th>
				    		<th>Date</th>
				    	</tr>
				    </thead>
				    <tbody>
				    	@if(trades.isEmpty()) {<tr><td class="centered" colspan="5">No trades available</td></tr>}
				    	@for(t <- trades) {
				    		<tr>
				    			<td>@t.getType()</td>
				    			<td>@t.amount</td>
				    			<td>
				    			@defining(t.amount * currentSim.tradingFee) { fee =>
				    				@fee
				    			}
				    			</td>
				    			<td>@t.date</td>
				    		</tr>
				    	}
					</tbody>
				</table>
    		</div>
    	</div>
    }
}